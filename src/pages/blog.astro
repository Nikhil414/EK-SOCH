---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import { Calendar, User, ArrowRight } from "lucide-astro";

import { posts } from "../data/blog-posts";
---

<Layout title="Blog | Ek Soch">
    <Navbar />

    <main>
        <!-- Hero -->
        <section
            class="min-h-[50vh] flex items-center pt-40 pb-20 relative overflow-hidden"
        >
            <div
                class="absolute inset-0 bg-gradient-to-br from-charcoal via-charcoal to-gold/5 -z-10"
            >
            </div>

            <div class="container relative z-10 text-center">
                <p class="eyebrow fade-up">Knowledge & Wisdom</p>
                <h1 class="headline fade-up mt-4">
                    Ek Soch <span class="text-gold">Insights</span>
                </h1>
                <p
                    class="text-soft-grey text-xl mt-8 max-w-2xl mx-auto filter-up leading-relaxed"
                >
                    Explore articles on storytelling, leadership, personal
                    branding, and the mindset required to build a movement.
                </p>
            </div>

            <!-- Background Decoration -->
            <div
                class="absolute -top-24 -right-24 w-96 h-96 bg-gold/5 rounded-full blur-3xl -z-10"
            >
            </div>
            <div
                class="absolute -bottom-24 -left-24 w-96 h-96 bg-gold/5 rounded-full blur-3xl -z-10"
            >
            </div>
        </section>

        <!-- Category Navigation -->
        <section class="pb-16 filter-up">
            <div class="container">
                <div
                    class="flex flex-wrap justify-center gap-4 border-b border-soft-grey/10 pb-8"
                >
                    {
                        [
                            "All Insights",
                            "Podcasting Tips",
                            "Personal Branding",
                            "Mindset",
                            "Business Growth",
                            "Communication Skills",
                        ].map((cat) => (
                            <button class="px-6 py-2 rounded-full border border-soft-grey/20 text-soft-grey hover:border-gold hover:text-gold transition-all text-sm font-medium whitespace-nowrap">
                                {cat}
                            </button>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- Featured & Recent Posts -->
        <section class="section pt-0">
            <div class="container">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                    {
                        posts.map((post) => (
                            <article class="blog-card group flex flex-col items-start bg-charcoal/20 border border-soft-grey/10 rounded-2xl overflow-hidden hover:border-gold/30 transition-all duration-500">
                                <div class="aspect-[16/10] w-full overflow-hidden relative">
                                    <img
                                        src={post.image}
                                        alt={post.title}
                                        class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                                    />
                                    <div class="absolute inset-0 bg-gradient-to-t from-charcoal/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity" />
                                    <div class="absolute top-4 left-4">
                                        <span class="px-3 py-1 bg-gold/90 text-deep-black text-[10px] font-bold uppercase tracking-widest rounded-md backdrop-blur-md">
                                            {post.category}
                                        </span>
                                    </div>
                                </div>

                                <div class="p-8 flex flex-col flex-grow">
                                    <div class="flex items-center gap-3 mb-4 text-soft-grey text-xs">
                                        <span class="flex items-center gap-1.5 underline decoration-gold/30">
                                            <User class="w-3.5 h-3.5" />
                                            {post.author}
                                        </span>
                                        <span>â€¢</span>
                                        <span class="flex items-center gap-1.5">
                                            <Calendar class="w-3.5 h-3.5" />
                                            {post.date}
                                        </span>
                                    </div>

                                    <h3 class="text-xl font-serif text-off-white mb-4 leading-snug group-hover:text-gold transition-colors">
                                        {post.title}
                                    </h3>

                                    <p class="text-soft-grey text-sm leading-relaxed mb-6 flex-grow">
                                        {post.excerpt}
                                    </p>

                                    <a
                                        href={`/blog/${post.slug}`}
                                        class="inline-flex items-center gap-2 text-gold text-xs font-bold uppercase tracking-widest group/link"
                                    >
                                        Read More
                                        <ArrowRight class="w-4 h-4 group-hover/link:translate-x-1.5 transition-transform" />
                                    </a>
                                </div>
                            </article>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- Newsletter Simple -->
        <section class="section border-t border-soft-grey/10 bg-deep-black">
            <div class="container">
                <div class="max-w-3xl mx-auto text-center">
                    <div class="w-16 h-1 bg-gold mx-auto mb-10"></div>
                    <h2 class="text-4xl font-serif text-off-white mb-6">
                        Stay Ahead of the Curve
                    </h2>
                    <p class="text-soft-grey mb-12 text-lg">
                        Join 5,000+ creators receiving our weekly digest on
                        meaningful growth.
                    </p>
                    <div class="flex justify-center max-w-lg mx-auto">
                        <iframe
                            src="https://niirmaangrowthhub.substack.com/embed"
                            width="480"
                            height="320"
                            style="border:1px solid #EEE; background:white;"
                            frameborder="0"
                            scrolling="no"
                            class="w-full rounded-xl shadow-2xl"></iframe>
                    </div>
                </div>
            </div>
        </section>
    </main>
</Layout>

<Footer />

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const gsap = (window as any).gsap;
        if (!gsap) return;

        gsap.fromTo(
            ".fade-up",
            { y: 30, opacity: 0 },
            {
                y: 0,
                opacity: 1,
                duration: 0.8,
                stagger: 0.15,
                ease: "power3.out",
                delay: 0.3,
            },
        );

        gsap.fromTo(
            ".filter-up",
            { y: 20, opacity: 0 },
            { y: 0, opacity: 1, duration: 0.8, delay: 0.6, ease: "power3.out" },
        );

        gsap.fromTo(
            ".blog-card",
            { y: 40, opacity: 0 },
            {
                y: 0,
                opacity: 1,
                duration: 0.6,
                stagger: 0.1,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: ".blog-card",
                    start: "top 85%",
                },
            },
        );
    });
</script>
