---
interface Props {
  eyebrow?: string;
  headline: string;
  description?: string;
  ctaText?: string;
  ctaLink?: string;
  imageSrc?: string;
  imageAlt?: string;
}

const {
  eyebrow = "GLOBAL MEDIA PLATFORM",
  headline,
  description,
  ctaText = "Explore Episodes",
  ctaLink = "#episodes",
  imageSrc = "https://images.unsplash.com/photo-1478737270239-2f02b77fc618?w=800&q=80",
  imageAlt = "Professional microphone in studio"
} = Astro.props;
---

<section class="min-h-screen flex items-center pt-20">
  <div class="container">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-8 items-center">
      <!-- Text Content -->
      <div class="order-2 lg:order-1 space-y-8">
        <div class="hero-content">
          <p class="eyebrow hero-eyebrow fade-up">{eyebrow}</p>
          <h1 class="headline hero-headline fade-up">{headline}</h1>
          {description && (
            <p class="text-soft-grey text-lg max-w-md mt-6 hero-description fade-up">
              {description}
            </p>
          )}
        </div>
        
        <div class="flex flex-wrap gap-4 hero-cta fade-up">
          <a href={ctaLink} class="btn-primary">
            {ctaText}
          </a>
          <a href="#about" class="btn-outline">
            Learn More
          </a>
        </div>
      </div>

      <!-- Hero Image with Parallax -->
      <div class="order-1 lg:order-2 relative">
        <div class="hero-image-wrapper relative aspect-[4/5] lg:aspect-[3/4] overflow-hidden rounded">
          <img 
            src={imageSrc} 
            alt={imageAlt}
            class="hero-image w-full h-full object-cover scale-110"
            loading="eager"
          />
          <!-- Gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-charcoal/60 via-transparent to-transparent"></div>
        </div>
        
        <!-- Decorative elements -->
        <div class="absolute -bottom-4 -left-4 w-24 h-24 border border-gold/30 rounded"></div>
        <div class="absolute -top-4 -right-4 w-16 h-16 bg-gold/10 rounded"></div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const gsap = (window as any).gsap;
    const ScrollTrigger = (window as any).ScrollTrigger;
    
    if (!gsap) return;

    // Hero text stagger animation on load
    const heroElements = ['.hero-eyebrow', '.hero-headline', '.hero-description', '.hero-cta'];
    
    gsap.fromTo(heroElements, 
      { 
        y: 30, 
        opacity: 0 
      },
      { 
        y: 0, 
        opacity: 1, 
        duration: 0.8,
        stagger: 0.15,
        ease: 'power3.out',
        delay: 0.3
      }
    );

    // Parallax effect on hero image
    gsap.to('.hero-image', {
      yPercent: 20,
      ease: 'none',
      scrollTrigger: {
        trigger: '.hero-image-wrapper',
        start: 'top bottom',
        end: 'bottom top',
        scrub: 1
      }
    });
  });
</script>

<style>
  .hero-image-wrapper {
    transform: translateZ(0);
    will-change: transform;
  }
  
  .hero-image {
    will-change: transform;
  }
</style>
